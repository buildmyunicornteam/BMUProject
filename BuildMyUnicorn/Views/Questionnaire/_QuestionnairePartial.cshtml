@using Model_Layer.Models;
@model IEnumerable<Survey>


<section class="employee-list bqe-timesheet admintable">
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>#</th>
                    <th>SurveyTitle</th>
                    <th>Survey Received</th>
                    <th>Status</th>
                    <th>CreatedBy</th>
                    <th>Created Date</th>
                    <th class="text-nowrap">Action</th>

                </tr>
            </thead>
            <tbody>
                @{ int index = 1;
                    String strUrl = HttpContext.Current.Request.Url.AbsoluteUri.Replace(HttpContext.Current.Request.Url.PathAndQuery, VirtualPathUtility.ToAbsolute("~/"));
                }
                @if (Model.Count() != 0)
                {
                    foreach (var item in Model)
                    {
                        <tr style='background-color:#303641' class="@(item.IsActive == true ? "" : "inActiveSurvey");">

                            <td class="text-left">

                                <input type="hidden" id="@item.SurveyID" value="@strUrl/Survey?SurveyID=@item.SurveyID)" />
                                @index
                                @{ index++; }
                            </td>
                            <td class="text-left link-display">
                                @item.SurveyTitle
                                <i class="fa fa-external-link" aria-hidden="true"></i>
                            </td>
                            <td class="text-left fixed-width-95">
                                @item.SurveyReceived
                            </td>
                            <td>
                                @if (item.IsActive == true)
                                {<span class='label label-success'>Active</span> }
                                else
                                { <span class='label label-danger'>In-Active</span>}
                            </td>
                            <td class="text-left">
                                @item.CreatedName
                            </td>
                            <td class="text-left fixed-width-95">
                                @item.CreatedDateTime.ToString("d")

                            </td>
                            <td class="text-left">
                                @if (item.IsActive == true)
                                {

                                    <a href="javascript:void(0)" data-toggle="tooltip" data-original-title="Active" class="jsInActiveSurvey" data-survey-id="@item.SurveyID"> <i class="mdi mdi-calendar" title="Survey in-active"></i> </a>

                                }
                                else
                                {
                                    <a href="javascript:void(0)" data-toggle="tooltip" data-original-title="Active" class="jsActiveSurvey" data-survey-id="@item.SurveyID"> <i class="mdi mdi-calendar-check" title="Survey active"></i> </a>



                                }
                                @*<a href="javascript:void(0)" data-toggle="tooltip" data-original-title="Edit"> <i class="fas fa-pencil-alt" title="Edit"></i> </a>*@
                                <a href="javascript:void(0)" data-toggle="tooltip" data-original-title="Delete" class="jsDeleteSurvey" data-survey-id="@item.SurveyID"> <i class="fas fa-trash-alt" title="Delete"></i> </a>

                                <a href="javascript:void(0)" data-toggle="tooltip" data-original-title="Close" onclick="copyToClipboard('@item.SurveyID')">
                                    <i class="mdi mdi-content-copy" title="Copy link"></i>
                                </a>
                                <a href="~/Survey?SurveyID=@item.SurveyID" data-toggle="tooltip" data-original-title="Close">
                                    <i class="fas fa-external-link-square-alt" title="Sury form"></i>
                                </a>
                                <a href="~/Questionnaire/GetSurveyData?SurveyID=@item.SurveyID" data-toggle="tooltip" data-original-title="Close">
                                    <i class="fas fa-sort-amount-up" title="Sury data"></i>
                                </a>
                            </td>
                            @*<td class="text-left">
                                    @Html.DisplayFor(modelItem => item.default_name)
                                </td>
                                <td class="text-center">
                                    <div class="row-dropdown">
                                        <i class="fa fa-angle-down dropbtn"></i>
                                        <div class="row-dropdown-content">
                                            @Html.ActionLink("Edit", "Edit", new { id = item.id })
                                            @Html.ActionLink("Details", "Details", new { id = item.id })
                                            @Html.ActionLink("Delete", "Delete", new { id = item.id })
                                        </div>
                                    </div>
                                </td>*@
                        </tr>

                    }
                }
                else
                {
                    <tr style = "background-color:#303641" > <td colspan = "7" style = "height:100px; text-align:center; padding-top:50px"> No Record Found </td> </tr>
                }

            </tbody>
        </table>
    </div>


</section>



